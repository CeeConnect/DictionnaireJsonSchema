{
  "$schema": "https://raw.githubusercontent.com/CeeConnect/DictionnaireJsonSchema/main/meta-schema.json",
  "type": "object",
  "properties": {
    "mentionMarqueReference": {
      "title": "Les marque et référence de l’équipement ou de l'isolant sont mentionnées sur la preuve de réalisation de l’opération",
      "type": "boolean",
      "default": true
    }
  },
  "allOf": [
    {
      "if": {
        "properties": {
          "mentionMarqueReference": {
            "const": false
          }
        }
      },
      "then": {
        "properties": {
          "marque": {
            "title": "Marque du produit",
            "type": "string",
            "maxLength": 240
          },
          "reference": {
            "title": "Référence du produit",
            "type": "string",
            "maxLength": 240
          }
        },
        "required": [
          "marque",
          "reference"
        ]
      }
    }
  ],
  "required": [
    "mentionMarqueReference"
  ]
}