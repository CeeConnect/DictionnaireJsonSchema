{
  "$id": "https://schemas.ceeconnect.fr/bundle/dossier/partie-a/bar/installateur",
  "$schema": "https://raw.githubusercontent.com/CeeConnect/DictionnaireJsonSchema/main/meta-schema.json",
  "title": "Installateur",
  "description": "Identité du professionnel titulaire du signe de qualité ayant réalisé l'opération, s'il n’est pas le signataire de cette attestation (sous-traitant par exemple)",
  "type": "object",
  "properties": {
    "sousTraitance": {
      "title": "Cas de sous traitance",
      "type": "boolean",
      "default": false
    }
  },
  "allOf": [
    {
      "if": {
        "properties": {
          "sousTraitance": {
            "const": true
          }
        }
      },
      "then": {
        "properties": {
          "nom": {
            "title": "Nom du signataire",
            "type": "string",
            "maxLength": 240
          },
          "prenom": {
            "title": "Prénom du signataire",
            "type": "string",
            "maxLength": 240
          },
          "raisonSociale": {
            "title": "Raison sociale",
            "type": "string",
            "maxLength": 240
          },
          "siret": {
            "$ref": "https://raw.githubusercontent.com/CeeConnect/DictionnaireJsonSchema/main/type/common/siret.json"
          }
        },
        "required": [
          "nom",
          "prenom",
          "raisonSociale",
          "siret"
        ]
      }
    }
  ]
}
